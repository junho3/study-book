# 4 프로세스의 개념

일반적으로 프로세스는 실행 중인 프로그램으로 정의한다.  
명령어와 데이터 묶음을 읽고 실행하여 프로그램에 생명을 불어넣는 것이 운영체제이다.  

운영체제는 CPU를 가상화하여 이러한 환상을 만들어 낸다.  
하나의 프로세스를 실행하고, 얼마 후 중단시키고 다른 프로세스를 실행하는 작업을 반복하면서 실제 하나 또는 소수의 CPU로 여러 개의 가상 CPU가 존재하는 듯한 환상을 만들어 낸다.  
시분할이라 불리는 이 기법은 원하는 수 만큼의 프로세스를 동시에 실행할 수 있게 한다.  
시분할 기법은 CPU를 공유하기 때문에, 각 프로세스의 성능은 낮아진다.  

CPU에서 프로그램 실행을 잠시 중단하고 다른 프로그램을 실행하는 것을 문맥 교환(Context switch)이라고 한다.  

운영체제의 스케줄링 정책이 이러한 결정을 내린다.  

## 4.1 프로세스의 개념

운영체제는 실행 중인 프로그램의 개념을 제공하는데, 이를 프로세스라 한다.  
프로세스의 하드웨어 상태 중 가장 중요한 구성 요소는 메모리이다.  
프로세스가 접근할 수 있는 메모리는 프로세스를 구성하는 요소이다.  

프로그램 카운터는 프로그램의 어느 명령어가 실행중인지를 알려준다.  
프로그램 카운터는 명령어 포인터라고도 불린다.  

스택 포인터와 프레임 포인터는 함수의 변수와 리턴 주소를 저장하는 스택을 관리할 때 사용하는 레지스터이다.  

## 4.2 프로세스 API

- 생성(Create): 운영체제는 새로운 프로세스를 생성할 수 있는 방법을 제공해야 한다.  
- 제거(Destroy): 프로세스 생성 인터페이스를 제공하는 것처럼 운영체제는 프로세스를 강제로 제거할 수 있는 인터페이스를 제공해야 한다.  
- 대기(Wait): 때론 어떤 프로세스의 실행 중지를 기다릴 필요가 있기 때문에 여러 종류의 대기 인터페이스가 제공된다.  
- 각종 제어(Miscellaneous Control): 프로세스의 제거, 대기 이외에, 여러 가지 제어 기능들이 제공된다. 예를 들어 일시정지  
- 상태(Status): 프로세스 상태 정보를 얻어내는 인터페이스도 제공된다.  

## 4.3 프로세스 생성: 좀 더 자세하게

어떤 프로그램이든 실행시키기 전에 운영체제는 프로그램의 중요 부분을 디스크에서 메모리로 탑재해야 한다.  
특정 크기의 메모리 공간이 프로그램에 스택 용도로 할당되어야 한다.  
운영체제는 프로그램의 힙을 위한 메모리 영역을 할당한다.  
힙은 동적으로 할당된 데이터를 저장하기 위해 사용된다.  
운영체제는 또 입출력과 관계된 초기화 작업을 수행한다.  

코드와 정적 데이터를 메모리에 탑재하고, 스택과 힙을 생성하고 초기화하고, 입출력 셋업과 관계된 다른 작업을 마치게 되면, 운영체제는 프로그램 실행을 위한 준비를 마치게 된다.  

## 4.4 프로세스 상태

- 실행(Running): 실행 상태에서 프로세스는 프로세서에서 실행 중이다.
- 준비(Ready): 준비 상태에서 프로세스는 실행할 준비가 되어 있지만 운영체제가 다른 프로세스를 실행하고 있는 등의 이유로 대기 중이다.  
- 대기(Blocked): 프로세스가 다른 사건을 기다리는 동안 프로세스의 수행을 중단시키는 연산이다.  

## 4.5 자료 구조

프로세스 상태를 파악하기 위해 준비 상태의 프로세스들을 위한 프로세스 리스트와 같은 자료 구조를 유지한다.  

## 4.6 요약


