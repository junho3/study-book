# 3장 클래스 설계: 모든 것과 연결되는 설계 기반

유지 보수와 변경이 쉬운 코드를 작성하려면, 관심사 분리가 중요하다.  

## 3.1 클래스 단위로 잘 동작하도록 설계하기

클래스는 클래스 하나로도 잘 동작할 수 있게 설계해야 한다.  
또한, 복잡한 초기 설정을 하지 않아도 곧바로 사용할 수 있게 만들어야 한다.  
클래스를 마음대로 조작해서 클래스 전체가 고장 나는 일(버그)이 없게 최소한의 조작 방법(메서드)만 외부에 제공해야 한다.

### 3.1.1 클래스의 구성 요소

잘 만들어진 클래스의 요소
- 인스턴스 변수
- 인스턴스 변수에 잘못된 값이 할당되지 않게 막고, 정상적으로 조작하는 메서드

### 3.1.2 모든 클래스가 갖추어야 하는 자기 방어 임무

다른 클래스를 사용해서 초기화와 유효성 검사를 해야 하는 클래스는 그 자체로는 안전하게 사용할 수 없는 미성숙한 클래스이다.  
클래스 스스로 자기 방어 임무를 수행할 수 있어야 소프트웨어의 품질을 높이는 데 도움이 된다.  

## 3.2 성숙한 클래스로 성장시키는 설계 기법

### 3.2.1 생성자로 확실하게 정상적인 값 설정하기

인스턴스 변수를 모드 초기화하는 데 필요한 매개변수들을 받는 생성자를 만든다.  
잘못된 값이 유입되지 못하게 유효성 검사를 생성자 내부에 정의한다.  
코드 3.4의 생성자처럼 처리 범위를 벗어나는 조건을 메서드 가장 앞 부분에서 확인하는 코드를 가드라고 부른다.  

> Code_3_4.kt 참고  
> 코틀린은 init 블럭과 require()로 체크  

### 3.2.2 계산 로직도 데이터를 가진 쪽에 구현하기

> Code_3_4.kt 참고

### 3.2.3 불변 변수로 만들어서 예상하지 못한 동작 막기

변수의 값이 계속해서 바뀌면, 값이 언제 변경되었는지, 지금 값은 무엇인지 계속 신경 써야 한다.  
비즈니스 요구 사항이 바뀌어서 코드를 수정하다가 의도하지 않은 값을 할당하는 '예상하지 못한 부수 효과'가 쉽게 발생할 수 있다.  
이를 막으려면, 인스턴스 변수를 불변으로 만든다.  

