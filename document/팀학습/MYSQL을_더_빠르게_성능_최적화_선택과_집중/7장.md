# 7장 복제 지연

**복제 지연**은 원본 MySQL 인스턴스에서 쓰기가 발생하는 시간과 해당 쓰기가 복제 MySQL 인스턴스에 적용되는 시간 사이의 지연입니다.  
복제는 네트워크를 통하므로 네트워크 지연 시간이 발생합니다.  
따라서 모든 데이터베이스에서 복제 지연은 당연한 현상입니다.  

## 7-1 MySQL의 복제 유형

### 원본에서 복제본으로

MySQL 복제는 원본에서 복제본으로의 복제를 의미합니다.  

**원본 MySQL 인스턴스**는 클라이언트가 데이터를 쓰는 MySQL 서버입니다.  
쓰기 가능한 단일 원본이 일반적입니다.  

**복제본 MySQL 인스턴스**는 원본에서 데이터 변경 사항을 복제하는 모든 MySQL 서버입니다.  
복제본은 스플릿 브레인을 방지하기 위해 항상 읽기 전용이어야 합니다.  

MySQL 복제는 비동기식이 기본입니다.  

복제본은 바이너리 로그를 작성하는 데 필요하지 않지만 복제본이 원본이 될 수 있으므로 고 가용성을 위한 표준 관행입니다.  
원본이 죽거나 유지 관리를 위해 중단되면 복제본이 승격되어 새 원본이 됩니다.  
새 원본 바이너리 로그에서 이전 원본은 오프라인 상태에서 놓친 쓰기를 복제합니다.  


### 그룹 복제

그룹 복제는 그룹 합의 프로토콜을 사용하여 데이터 변경 사항을 동기화하고 그룹 구성원을 관리하는 기본과 보조 인스턴스의 MySQL 클러스터를 생성합니다.  

> Active/Active 클러스터의 두 개 이상의 데이터베이스 인스턴스에 쓰기를 수행함으로써 가용성을 극대화하고 쓰기 대기 시간을 감소시킬 수 있습니다.  
> https://aws.amazon.com/ko/blogs/tech/amazon-rds-for-mysql-active-active-group-replication-plugin/

그룹 복제보다 뛰어난 또 다른 혁신이 표준이 되고 있습니다.  
바로 InnoDB 클러스터입니다.  


