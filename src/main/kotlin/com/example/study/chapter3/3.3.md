# 3.3 코드 계약

계약에 의한 프로그래밍 또는 계약에 의한 디자인

> 참고: https://happy-coding-day.tistory.com/entry/%EA%B3%84%EC%95%BD%EC%97%90-%EC%9D%98%ED%95%9C-%EC%84%A4%EA%B3%84Contract-By-Design-%EB%8D%94-%EC%9E%98-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0with-java

- 선결 조건
- 사후 조건
- 불변 사항

## 3.3.1 계약의 세부 조항

- 계약의 명확한 부분
 - 함수와 클래스 이름
 - 인자 유형
 - 반환 유형
 - 검사 예외
- 세부 조항
 - 주석문과 문서
 - 비검사 예외

## 3.3.2 세부 조항에 너무 의존하지 말라

코드가 잘못 사용되는 경우를 없애야 함  
코드 레벨에서는 메소드마다 적절한 접근제어자를 선언하여 캡슐화  
변수는 불변(val)으로 선언  

> 시스템을 새롭게 구성하는 단계에서는 정책적인 부분도 일정 부분 제한해야할 필요가 있다고 생각함
> 보통 서비스(커머스)에서 주문에서 결제를 호출할 때 주문번호는 유일한 값임
> 하지만, 레거시 시스템에서는 동일한 주문번호를 허용해줬으니, 또는 레거시 시스템 현재 로직상 동일한 주문번호를 호출할 수 밖에 없는 구조라서, 새로운 서비스에서도 허용해줘야한다?는 잘못된 방향이라고 생각
> 레거시 시스템에서 새롭게 주문번호를 채번할 수 있도록 수정을 해야한다고 생각
