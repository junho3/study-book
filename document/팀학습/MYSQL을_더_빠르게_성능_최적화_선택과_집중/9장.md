# 9장 다른 문제들

## 9-1 스플릿-브레인이 가장 큰 위험이다

스플릿-브레인이 똑같은 복제 토폴로지에서 동시에 발생하려면 2가지 조건을 만족해야 합니다.  
- 둘 이상의 MySQL 인스턴스에서 쓰기가 가능합니다. (read_only = 0)  
- 둘 이상의 MySQL 인스턴스에서 쓰기가 발생합니다.

일관되지 않은 데이터는 근본적으로 잘못되었을 뿐만 아니라 복제에 문제가 생기거나 심지어는 이 때문에 더 많은 데이터가 일관되지 않게 되어 다음 문제는 데이터 드리프트가 발생할 수 있습니다.  

스플릿-브레인을 중지하려면 모든 인스턴스에서 쓰기를 비활성화합니다.  
하나의 인스턴스만 쓰기 가능 상태로 두지 마세요.  
그러면 문제가 더 나빠집니다.  
쓰기를 비활성화할 수 없으면 MySQL이나 서버 종료를 심각하게 고려해야 합니다.  

잠재적으로 잘못된 데이터를 일겅도 더 이상의 손상이 발생하지 않는다고 확신한다면 `super_read_only`모드를 사용하여 데이터를 수정하는 동안 MySQL을 읽기 전용 모드(read_only = 1)로 실행할 수 있습니다.  

일치하지 않는 행을 찾는 방법은 `pt-table-sync`를 실행하거나 수동으로 확인하는 두 가지뿐입니다.  


## 9-2 데이터 드리프트는 실제지만 보이지 않는다



