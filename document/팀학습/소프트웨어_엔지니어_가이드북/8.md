# 8. 코딩

## 8.1 코딩 연습하기

### 꾸준히 코딩하기

### 코드 리뷰 요청하기

코드 리뷰를 통해 배우자.

Angie Jones 코드 리뷰의 십계명  
https://angiejones.tech/ten-commandments-code-reviews/

```
1. Thou shall not be a jerk
   무례하게 굴지 말라
   리뷰할 때 사람을 공격하지 말고 코드에 집중하라. 존중과 배려는 기본이다.

2. Thou shall understand the reason behind the code
   코드의 의도를 이해하라
   단순히 코드를 보고 잘못을 지적하기보다는, 작성자가 왜 그렇게 구현했는지를 먼저 파악하려고 노력하라.

3. Thou shall not say “that’s stupid”
   “그건 멍청하다” 같은 말은 하지 말라
   부정적인 언어는 협업을 방해한다. 대안을 제시하되, 공격적 표현은 피하라.

4. Thou shall respect the coding style guidelines
   팀의 코딩 스타일 가이드를 존중하라
   개인 취향이 아닌, 팀의 기준에 따라 리뷰하라. 불필요한 스타일 논쟁은 피하자.

5. Thou shall not nitpick
   사소한 것에 집착하지 말라
   의미 없는 소소한 지적은 피하고, 리뷰의 초점을 중요한 문제에 맞추자.

6. Thou shall be kind when you catch a bug
   버그를 발견했을 때 친절하게 말하라
   “이거 왜 이렇게 했어?”보다는 “이 부분에서 이런 문제가 생길 수 있어요. 이렇게 바꿔보는 건 어떨까요?” 같이 말하자.

7. Thou shall comment on the good stuff too
   좋은 코드에는 칭찬도 하라
   잘 짠 코드나 멋진 구현에는 긍정적인 피드백도 주자. 이는 사기를 북돋운다.

8. Thou shall ask questions
   의문이 들면 질문하라
   잘 모르겠으면 단정 짓지 말고, “이 부분은 어떤 의도로 작성하신 건가요?” 같이 질문하자.

9. Thou shall not take it personally
   리뷰를 개인적으로 받아들이지 말라
   리뷰는 코드 개선을 위한 과정일 뿐, 개인에 대한 비판이 아니다. 방어적이거나 감정적으로 반응하지 않도록 하자.

10. Thou shall take as much as you give
    리뷰를 받는 만큼 리뷰도 하라
    동료의 코드도 적극적으로 리뷰하자. 상호 리뷰를 통해 팀 전체의 성장으로 이어진다.
```


### 코드를 작성하는 만큼 코드 읽기

다른 팀이나 회사 외부에서 작성된 코드를 읽는 것도 유익하다.  

오픈소스 코드를 읽는 것은 다른 사람의 코드를 보고 회사 밖에서 무슨 일이 일어나고 있는지 파악하는 훌륭한 방법이다.  


### 더 많은 코딩

- 사이드 프로젝트
- 코딩 연습이 포함된 튜토리얼/강의
- 코딩 챌린지에 도전
- 정기적인 짧은 코딩 연습


## 8.2 가독성 높은 코드

잘못된 코드는 오래 숨어 있을 수 없지만, 읽기 어려운 코드는 오랫동안 발견되지 않을 수 있다.  

가독성이 떨어지는 코드의 가장 큰 위험은 가독성 저하의 늪에 빠진다는 점이다.  
코드를 더 읽기 쉽게 만들기보다 최소한의 부분만 수정해 더 가독성이 떨어지는 코드를 만들어낼 가능성이 있다.  

가독성이 높고 잘 테스트된 코드는 엔지니어가 자신 있게 변경할 수 있는 견고한 코드베이스의 토대가 된다.  

### 잘 읽히는 코드란 무엇인가?

잘 읽히는 코드는 우선 작성자가 읽기 쉬워야 한다.  
코딩이 끝나면 잠시 휴식을 취해 마음을 비우자.  
그다음 코드를 처음 본다는 생각으로 수정 사항이나 수정된 이유를 아무것도 모른다고 상상하며 다시 읽어보자.  

코드의 가독성은 간단히 판단할 수 있다.  
읽기 쉬운 코드는 이해가 어렵다는 반응을 거의 또는 전혀 이끌어내지 않으며, 리뷰어가 오해하지 않는다.  


### 주의 사항

- 명명: 일관된 명명 방식을 고수하자.
- 코드 구조: 일관된 서식을 사용하자.
- 단순한 코드(KISS): "Keep it simple, stupid!"
- 단일 책임
- DRY 원칙: 코드를 복사해 붙여 넣지 말자.
- 주석
- 지속적인 리팩토링


## 8.3 품질 높은 코드 작성

### 적절한 수준의 추상하 사용

정보 숨기기는 두 가지 방식으로 복잡성을 줄여줍니다.  
첫째, 모듈(클래스)에 대한 인터페이스를 단순화합니다.  
세부 사항을 숨기므로 그 모듈을 이용하는 개발자의 인지적 부하를 줄여줍니다.  

둘째, 정보를 숨기며 시스템을 더 쉽게 발전시킬 수 있습니다.  
정보를 숨기면 해당 정보가 포함된 모듈 외부에 해당 정보에 대한 종속성이 없으므로 해당 정보와 관려된 설계 변경은 하나의 모듈에만 영향을 끼칩니다.  


### 오류를 깔끔하게 잘 처리하기

일관된 오류 처리 전략을 세우자.  

의심스럽다면 방어적으로 프로그램을 만들자.  
- 특히 사용자의 입력을 검증한다.
- 무효한 응답을 예상한다.
- 악의적인 입력을 예상한다.
- 예외와 오류를 예상한다.


### 'unknown' 상태 주의

결제 API는 'OK', '자금 부족', '일시적 오류' 같은 응답을 할 수 있다.  
코드에서는 이러한 응답을 '성공' 또는 '실패'로 매핑해야 한다.  

- 허용 목록
  - 허용 목록을 만들고 그 외의 모든 응답은 실패로 간주한다.
  - '사용자 조치 필요' 같이 실패는 아닌 응답이 있을 때 문제가 발생한다.
- 차단 목록
  - 실패로 간주되는 응답 목록을 만들고 다른 모든 응답은 성공으로 간주한다.
  - 새로운 오류 코드가 추가된 경우 성공으로 매핑할 수 있어 더 위험하다.

안타깝게도 허용 목록이나 차단 목록 모두 모든 경우에 작동하지 않는다.  
알 수 없는 응답과 코드를 처리하는 가장 좋은 방법은 '성공'과 '실패'를 제외한 세번째 상태를 'unknown'으로 설정하고 오류, 경고 등을 발생시켜 엔지니어가 살펴보도록 하는 것이다.






